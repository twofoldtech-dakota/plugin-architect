[
  {
    "name": "Drizzle SQLite Setup",
    "slug": "drizzle-sqlite-setup",
    "description": "Production-ready SQLite database setup with Drizzle ORM, including schema definition, migration helpers, and connection pooling.",
    "tags": ["database", "orm", "sqlite"],
    "stack": ["typescript", "drizzle", "sqlite"],
    "verified": true,
    "version": 2,
    "created": "2025-01-05",
    "used_in": ["recipe-remix", "bookmark-organizer"],
    "files": [
      {
        "path": "src/db/schema.ts",
        "content": "import { sqliteTable, text, integer } from 'drizzle-orm/sqlite-core';\n\nexport const users = sqliteTable('users', {\n  id: integer('id').primaryKey({ autoIncrement: true }),\n  name: text('name').notNull(),\n  email: text('email').notNull().unique(),\n});"
      },
      {
        "path": "src/db/index.ts",
        "content": "import { drizzle } from 'drizzle-orm/better-sqlite3';\nimport Database from 'better-sqlite3';\nimport * as schema from './schema';\n\nconst sqlite = new Database('local.db');\nexport const db = drizzle(sqlite, { schema });"
      }
    ],
    "notes": "Remember to add better-sqlite3 to dependencies. Run migrations with `drizzle-kit push:sqlite`."
  },
  {
    "name": "Next.js API Route Pattern",
    "slug": "nextjs-api-route",
    "description": "Type-safe API route handler with Zod validation, error handling, and consistent response format.",
    "tags": ["api", "nextjs", "validation"],
    "stack": ["typescript", "nextjs", "zod"],
    "verified": true,
    "version": 1,
    "created": "2025-01-10",
    "used_in": ["recipe-remix"],
    "files": [
      {
        "path": "src/lib/api-handler.ts",
        "content": "import { NextRequest, NextResponse } from 'next/server';\nimport { ZodSchema } from 'zod';\n\nexport function apiHandler<T>(\n  schema: ZodSchema<T>,\n  handler: (data: T) => Promise<unknown>\n) {\n  return async (req: NextRequest) => {\n    const body = await req.json();\n    const parsed = schema.safeParse(body);\n    if (!parsed.success) {\n      return NextResponse.json({ error: parsed.error.flatten() }, { status: 400 });\n    }\n    const result = await handler(parsed.data);\n    return NextResponse.json(result);\n  };\n}"
      }
    ],
    "notes": "Wrap each route handler with apiHandler for consistent validation."
  },
  {
    "name": "React Form with Zod",
    "slug": "react-form-zod",
    "description": "Reusable form pattern with Zod schema validation and React Hook Form integration.",
    "tags": ["form", "validation", "react"],
    "stack": ["typescript", "react", "zod"],
    "verified": false,
    "version": 1,
    "created": "2025-01-18",
    "used_in": [],
    "files": [
      {
        "path": "src/components/form.tsx",
        "content": "import { useForm } from 'react-hook-form';\nimport { zodResolver } from '@hookform/resolvers/zod';\nimport type { ZodSchema } from 'zod';\n\nexport function useZodForm<T>(schema: ZodSchema<T>) {\n  return useForm<T>({\n    resolver: zodResolver(schema),\n  });\n}"
      }
    ],
    "notes": null
  }
]
